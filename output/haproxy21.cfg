

##### RKE-REF-BLUE #####

frontend RKE-api-blue-external
   bind 172.29.xx.21:6443
   mode tcp
   option tcplog
   default_backend RKE-api-blue

frontend RKE-node-api-blue-external
   bind 172.29.xx.21:9345
   mode tcp
   option tcplog
   default_backend RKE-node-api-blue

frontend RKE-api-redirect-blue-external
   bind 172.29.xx.21:80
   mode http
   option forwardfor
   redirect scheme https if !{ ssl_fc }

frontend RKE-api-blue-internal
   bind 172.29.xx.21:6443
   mode tcp
   option tcplog
   default_backend RKE-api-blue

frontend RKE-node-api-blue-internal
   bind 172.29.xx.21:9345
   mode tcp
   option tcplog
   default_backend RKE-node-api-blue

frontend RKE-api-redirect-blue-internal
   bind 172.29.xx.21:80
   bind 172.29.xx.21:80
   mode http
   option forwardfor
   redirect scheme https if !{ ssl_fc }

frontend RKE-apps-blue-external-https
   bind 172.29.xx.21:443
   bind 172.29.xx.21:443
   mode tcp
   option tcplog
   default_backend RKE-apps-https-blue

frontend Backup-apps-blue-sftp
   bind 172.29.xx.21:2222
   mode tcp
   option tcplog
   default_backend Backup-apps-blue-sftp

frontend Kafka-apps-https-blue-internal
   bind 172.29.xx.21:9094
   mode tcp
   option tcplog
   default_backend Kafka-apps-https-blue-internal

frontend Kafka-apps-https-blue-external
   bind 172.29.xx.21:9094
   mode tcp
   option tcplog
   default_backend Kafka-apps-https-blue-external

frontend Kafka-apps-broker0-blue-external
   bind 172.29.xx.21:30010
   mode tcp
   option tcplog
   default_backend Kafka-apps-broker0-blue-external

frontend Kafka-apps-broker1-blue-external
   bind 172.29.xx.21:30011
   mode tcp
   option tcplog
   default_backend Kafka-apps-broker1-blue-external

frontend Kafka-apps-broker2-blue-external
   bind 172.29.xx.21:30012
   mode tcp
   option tcplog
   default_backend Kafka-apps-broker2-blue-external

frontend RKE-apps-redirect-blue-external
   bind 172.29.xx.21:80
   bind 172.29.xx.21:80
   mode http
   option forwardfor
   redirect scheme https if !{ ssl_fc }

backend RKE-api-blue
   balance roundrobin
   mode tcp
   server c1 172.29.xx.xx:6443 check inter 2s
   server c2 172.29.xx.xx:6443 check inter 2s
   server c3 172.29.xx.xx:6443 check inter 2s

backend RKE-node-api-blue
   balance roundrobin
   mode tcp
   server c1 172.29.xx.xx:9345 check inter 2s
   server --- 172.29.xx.xx:9345 check inter 2s
   server --- 172.29.xx.xx:9345 check inter 2s

backend RKE-apps-https-blue
   balance roundrobin
   mode tcp
   server --- 172.29.xx.xx:30002 check inter 2s
   server --- 172.29.xx.xx:30002 check inter 2s
   server --- 172.29.xx.xx:30002 check inter 2s
 
  

backend Backup-apps-blue-sftp
   balance roundrobin
   mode tcp
   server --- 172.29.xx.xx:30500 check inter 2s
   server --- 172.29.xx.xx:30500 check inter 2s
   server --- 172.29.xx.xx:30500check inter 2s
   server --- 172.29.xx.36:30500 check inter 2s


backend Kafka-apps-https-blue-internal
   balance roundrobin
   mode tcp
   server --- 172.29.xx.xx:30003 check inter 2s
   server --- 172.29.xx.xx:30003 check inter 2s
   server --- 172.29.xx.xx:30003 check inter 2s


backend Kafka-apps-https-blue-external
   balance roundrobin
   mode tcp
   server --- 172.29.xx.xx:30003 check inter 2s
   server --- 172.29.xx.xx:30003 check inter 2s
   server --- 172.29.xx.xx:30003 check inter 2s

backend Kafka-apps-broker0-blue-external
   balance roundrobin
   mode tcp
   server --- 172.29.xx.xx:30010 check inter 2s
   server --- 172.29.xx.xx:30010 check inter 2s
   server --- 172.29.xx.xx:30010 check inter 2s

backend Kafka-apps-broker1-blue-external
   balance roundrobin
   mode tcp
   server --- 172.29.xx.xx:30011 check inter 2s
   server --- 172.29.xx.xx:30011 check inter 2s
   server --- 172.29.xx.xx:30011 check inter 2s

backend Kafka-apps-broker2-blue-external
   balance roundrobin
   mode tcp
   server --- 172.29.xx.xx:30012 check inter 2s
   server --- 172.29.xx.xx:30012 check inter 2s
   server --- 172.29.xx.xx:30012 check inter 2s

